  <div class="page-wrapper">
  <div class="page-container">
    
    <div class="grid-container">
      
      <div class="card estimate-details-card">
        <h2 class="card-header">
          ESTIMATE DETAILS
        </h2>
        
        <div class="form-body">
          <div class="form-row">
            <label for="totalParts" class="form-label">Total Parts</label>
            <input type="number" id="totalParts" [(ngModel)]="totalParts" class="form-input">
          </div>

          <div class="form-row">
            <label class="form-label">Paint Material (25%)</label>
            <input type="number" [value]="paintMaterial()" disabled class="form-input">
          </div>

          <div class="form-row">
            <label class="form-label">Paint Labour (75%)</label>
            <input type="number" id="paintLabour" [(ngModel)]="paintLabour" class="form-input">
          </div>

          <div class="form-row">
            <label for="accidentalLabour" class="form-label">Accidental Labour</label>
            <input type="number" id="accidentalLabour" [(ngModel)]="accidentalLabour" class="form-input">
          </div>

          <div class="form-row summary-row">
            <label class="summary-label">SUB TOTAL</label>
            <div class="summary-value">{{ subTotal().toFixed(2) }}</div>
          </div>

          <div class="form-row">
            <label for="otherEstimates" class="form-label">Other Estimates</label>
            <input type="number" id="otherEstimates" [(ngModel)]="otherEstimates" class="form-input">
          </div>

          <div class="form-row">
            <label for="towingCharges" class="form-label">Towing Charges</label>
            <input type="number" id="towingChargesEstimate" [(ngModel)]="towingChargesEstimate" class="form-input">
          </div>

          <div class="form-row summary-row total">
            <label class="summary-label">TOTAL ESTIMATE</label>
            <div class="summary-value">{{ totalEstimate().toFixed(2) }}</div>
          </div>
        </div>
      </div>

      <div class="card assessment-summary-card">
        <h2 class="card-header summary">ASSESSMENT SUMMARY</h2>
        
        <div class="cashless-toggle">
          <span class="cashless-label">Cashless ?</span>
          <label class="toggle-switch">
            <input type="checkbox" [(ngModel)]="isCashless" class="peer">
            <div class="slider"></div>
          </label>
          <span class="toggle-status" [class.text-green-600]="isCashless()" [class.text-gray-500]="!isCashless()">
            {{ isCashless() ? 'Yes' : 'No' }}
          </span>
        </div>

        <div class="table-container">
          <table class="summary-table">
            <thead>
              <tr>
                <th>Description</th>
                <th class="text-right">Amount</th>
                <th class="text-right">Dep</th>
                <th class="text-right">GST</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Total Parts Allowed [A]</td>
                <td class="text-right font-mono">{{ totalPartsAllowedA().toFixed(2) }}</td>
                <td class="text-right font-mono">{{ totalPartsAllowedA() > 0 ? '41.60' : '0.00' }}</td>
                <td class="text-right font-mono">{{ gstOnParts().toFixed(2) }}</td>
              </tr>
              <tr>
                <td>Painting (As part)</td>
                <td class="text-right font-mono">0.00</td>
                <td class="text-right font-mono">0.00</td>
                <td class="text-right font-mono">0.00</td>
              </tr>
              <tr>
                <td>Total Labour Allowed [B]</td>
                <td class="text-right font-mono">{{ totalLabourAllowedB().toFixed(2) }}</td>
                <td class="text-right font-mono">0.00</td>
                <td class="text-right font-mono">0.00</td>
              </tr>
              <tr>
                <td class="align-middle">Towing Charges</td>
                <td class="text-right">
                  <input type="number" [(ngModel)]="towingChargesAssessed" class="table-input">
                </td>
                <td class="text-right font-mono">0.00</td>
                <td></td>
              </tr>
              <tr class="table-footer">
                <td>Gross Loss Assessed</td>
                <td class="text-right font-mono">{{ grossLossAssessed().toFixed(2) }}</td>
                <td class="text-right font-mono">{{ totalPartsAllowedA() > 0 ? '286.87' : '0.00' }}</td>
                <td class="text-right font-mono">{{ totalGst().toFixed(2) }}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="deductions-section">
          <div class="deduction-row">
            <label class="deduction-label">Salvage Charges</label>
            <div class="input-group">
              <input type="number" [(ngModel)]="salvageChargesValue" class="deduction-input">
              <button class="btn-less">Less</button>
              <input type="number" [(ngModel)]="salvageChargesPercent" class="deduction-input short">
              <span class="input-suffix">% (Of metal parts)</span>
            </div>
          </div>
          <div class="deduction-row">
            <label class="deduction-label">Average Clause if any?</label>
            <div class="input-group">
              <input type="number" [(ngModel)]="averageClauseValue" class="deduction-input">
              <button class="btn-less">Less</button>
              <input type="number" [(ngModel)]="averageClausePercent" class="deduction-input short">
              <span class="input-suffix">% (Of the assesment)</span>
            </div>
          </div>
          <div class="deduction-row">
            <label class="deduction-label">Compulsory Excess Clause</label>
            <div class="input-group">
              <input type="number" [(ngModel)]="compulsoryExcessClause" class="deduction-input">
              <span class="policy-label">Policy Type ?</span>
              <button class="btn-policy">Zero Dep Policy</button>
            </div>
          </div>
          <div class="deduction-row">
            <label class="deduction-label">Other Deductibles any?</label>
            <input type="number" [(ngModel)]="otherDeductibles" class="deduction-input ml-auto">
          </div>
        </div>

        <div class="net-loss-container">
          <h3 class="net-loss-title">NET LOSS ASSESSED?</h3>
          <div class="net-loss-value">{{ grossLossAssessed().toFixed(2) }}</div>
          <div class="operator">+</div>
          <div class="net-loss-value">{{ totalDeductibles().toFixed(2) }}</div>
          <div class="operator">=</div>
          <div class="net-loss-total">{{ netLossAssessed().toFixed(2) }}</div>
        </div>
      </div>
      
    </div>
  </div>
</div>